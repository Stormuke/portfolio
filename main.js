(()=>{"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=i,this._inputsList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._submitButton=this._formElement.querySelector(this._config.submitButtonSelector)}var i,n;return i=t,(n=[{key:"_hasInvalidInput",value:function(){return this._inputsList.some((function(e){return!e.validity.valid}))}},{key:"_hasEmptyInput",value:function(){return this._inputsList.every((function(e){return 0===e.value.length}))}},{key:"_addTextError",value:function(e){this._errorMessage=this._formElement.querySelector("#".concat(e.id,"-error")),e.classList.add(this._config.inputErrorClass),this._errorMessage.classList.add(this._config.errorClass),this._errorMessage.textContent=e.validationMessage}},{key:"_removeTextError",value:function(e){this._errorMessage=this._formElement.querySelector("#".concat(e.id,"-error")),e.classList.remove(this._config.inputErrorClass),this._errorMessage.classList.remove(this._config.errorClass),this._errorMessage.textContent=""}},{key:"_enableSubmitButton",value:function(){this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove("form__button_disabled")}},{key:"disableSubmitButton",value:function(){this._submitButton.setAttribute("disabled",!0),this._submitButton.classList.add("form__button_disabled")}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._removeTextError(e):this._addTextError(e)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()||this._hasEmptyInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._inputsList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&e(i.prototype,n),t}(),i=document.querySelector(".page__button"),n=document.querySelectorAll('a[href*="#"]'),o=document.querySelector(".popup_form_feedback"),r=document.querySelector(".footer__button"),s=document.querySelector(".header__button"),a=document.querySelector(".header__navigation"),c=document.querySelector(".form_opened"),u=Array.from(document.querySelectorAll(".popup")),l=document.querySelectorAll(".header__main-illustration"),d=document.forms.form_message,m=document.querySelector(".skills__description-cell-template").content.querySelector(".skills__description-cell"),_=document.querySelector(".skills__description"),f=new t({formSelector:".form",inputSelector:".form__item",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__item_type_error",errorClass:"form__item-error_visible"},d),p=Array.from(document.querySelectorAll(".page")),h=document.querySelector(".page__swap-button_up"),v=document.querySelector(".page__swap-button_down"),g=document.querySelector(".page__swap-button_center");h.addEventListener("click",(function(){p[0].classList.remove("hidden"),p[1].classList.add("hidden"),p[2].classList.add("hidden")})),v.addEventListener("click",(function(){p[0].classList.add("hidden"),p[1].classList.add("hidden"),p[2].classList.remove("hidden")})),g.addEventListener("click",(function(){p[0].classList.add("hidden"),p[1].classList.remove("hidden"),p[2].classList.add("hidden")}));var y=document.querySelector(".controls__button_up"),b=document.querySelector(".controls__button_down"),k=document.querySelector(".slider"),S=document.querySelector(".slider__container"),L=document.querySelector(".main-slide"),E=L.querySelectorAll("div").length,q=0;function w(e){"up"===e?++q===E&&(q=0):"down"===e&&--q<0&&(q=E-1);var t=k.clientHeight;L.style.transform="translateY(-".concat(q*t,"px)"),S.style.transform="translateY(".concat(q*t,"px)")}S.style.top="-".concat(100*(E-1),"vh"),y.addEventListener("click",(function(){w("up")})),b.addEventListener("click",(function(){w("down")}));[{name:"HTML 5",image:"https://raw.githubusercontent.com/Stormuke/portfolio/e53f0411e92f89977253598a86a34e8635d96001/src/images/file_type_html_icon_130541.svg",href:"https://ru.wikipedia.org/wiki/HTML5"},{name:"CSS",image:"https://raw.githubusercontent.com/Stormuke/portfolio/e53f0411e92f89977253598a86a34e8635d96001/src/images/file_type_css_icon_130661.svg",href:"https://ru.wikipedia.org/wiki/CSS"},{name:"JavaScript",image:"https://raw.githubusercontent.com/Stormuke/portfolio/e53f0411e92f89977253598a86a34e8635d96001/src/images/javascript_icon_130900.svg",href:"https://ru.wikipedia.org/wiki/JavaScript"},{name:"Webpack",image:"https://raw.githubusercontent.com/Stormuke/portfolio/e53f0411e92f89977253598a86a34e8635d96001/src/images/webpack_original_logo_icon_146300.svg",href:"https://ru.wikipedia.org/wiki/webpack"},{name:"Figma",image:"https://raw.githubusercontent.com/Stormuke/portfolio/e53f0411e92f89977253598a86a34e8635d96001/src/images/figma_logo_icon_170157.svg",href:"https://ru.wikipedia.org/wiki/Figma"}].forEach((function(e){!function(e){_.append(function(e){var t=m.cloneNode(!0),i=t.querySelector(".skills__description-illustration");return t.querySelector(".skills__description-text").textContent=e.name,i.src=e.image,i.alt=e.name,t.querySelector(".skills__link").href=e.href,t}(e))}(e)})),function(e){l[2].classList.add("header__main-illustration_active");var t=function(e){l.forEach((function(e){return e.classList.remove("header__main-illustration_active")})),e.target.classList.add("header__main-illustration_active")};l.forEach((function(e){e.addEventListener("click",t)}))}();var C=function(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",j)},x=function(e){e.target.closest(".feedback").remove()},B=document.form_message.form_name,A=document.form_message.form_message,I=document.querySelector(".footer__template").content,M=document.querySelector(".footer__container"),T=function(e){M.prepend(function(e){var t=I.cloneNode(!0);return t.querySelector(".feedback__title").textContent=e.name,t.querySelector(".feedback__text").textContent=e.text,t.querySelector(".feedback__delete").addEventListener("click",x),t}(e))};[{name:"Alexey Kazakov",text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt."}].forEach((function(e){T(e)})),n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var i=e.getAttribute("href").substr(1);document.getElementById(i).scrollIntoView({behavior:"smooth",block:"start"})}))}));var j=function(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&C(t)};u.forEach((function(e){e.addEventListener("mousedown",(function(t){(t.target.classList.contains("form__close")||t.target.classList.contains("popup_opened"))&&C(e)}))})),r.addEventListener("click",(function(){f.disableSubmitButton(),o.classList.add("popup_opened"),document.addEventListener("keydown",j)})),c.addEventListener("submit",(function(){T({name:B.value[0].toUpperCase()+B.value.slice(1),text:A.value[0].toUpperCase()+A.value.slice(1)}),c.reset(),C(o)})),window.onscroll=function(){window.pageYOffset<150?i.style.visibility="hidden":i.style.visibility="visible"},s.addEventListener("click",(function(){a.classList.toggle("header__navigation_hide"),s.classList.toggle("header__button_active")})),f.enableValidation()})();